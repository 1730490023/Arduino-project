/*
 * 自编 OLED 12864 I2C 驱动
 * 不带字库
 */
#include<Wire.h>
//#include"ascii.h"
//#include"oled.h"
#define uint8_t  unsigned char
#define uint16_t unsigned int
//#define OLED_12864_Address 0x3c
#include"oled.h"
char bmp[]={
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0x18,0x0C,0x06,0x62,
0xC2,0xC2,0x82,0x81,0xC1,0x01,0x01,0x01,0x41,0xC1,0x81,0x82,0x82,0x82,0x04,0x0C,
0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x80,0xC0,0x20,0x30,0x10,0x10,0x08,0x08,0x08,0x04,0x04,0x04,0x04,0x04,0x04,0x04,
0x08,0x08,0x08,0x10,0x10,0x10,0x20,0x40,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0xF0,0x18,0x08,0x04,0x44,0x66,0x22,0x23,0x21,0x21,0x61,0x00,
0x00,0x00,0x00,0x40,0x40,0x40,0x60,0x20,0x20,0x20,0x20,0xE0,0x00,0x00,0x00,0x01,
0x01,0x03,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0x70,0xC0,0x00,0x00,
0x00,0x00,0x20,0x20,0x20,0x20,0x60,0xC0,0x00,0x00,0x00,0x00,0x80,0xC0,0x20,0x1C,
0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xFF,0x00,0x00,0x00,0x0C,0x04,0x06,0x02,0x06,0x0C,0x00,0x00,0x00,0x00,0x18,0x0C,
0x04,0x04,0x04,0x0C,0x00,0x00,0x00,0x00,0x80,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x7F,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0xC0,0x80,
0x80,0x80,0x80,0x80,0xC0,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0x40,0x30,
0x08,0x06,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x06,
0x08,0x10,0x10,0xFC,0x04,0x04,0x04,0x04,0x04,0x06,0x02,0x03,0x01,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x01,0x06,0x1C,0x30,0x20,0x40,0xC0,0x82,0x02,0x02,0x86,0x44,0x44,0x64,0x24,0x20,
0x20,0x30,0x10,0x10,0x18,0x08,0x04,0x07,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x04,0x08,0x10,0x10,0x20,0x20,0x40,0x40,0xE0,
0x70,0x50,0x10,0x08,0x08,0x04,0x04,0x06,0x02,0x03,0x01,0x01,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x60,0x20,0x20,0x10,0x10,0x08,0x08,0x04,
0x06,0x02,0x03,0xFF,0x02,0x06,0x0C,0x08,0x10,0x20,0x60,0xC0,0x80,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x40,0x61,0x21,0x13,0xFF,0x20,0x60,0xC0,0x80,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x80,0x80,0x80,0x80,0x40,0x40,0x40,0x40,0x40,0x20,0x20,0x20,0x20,0x30,0xD0,0x7F,
0x20,0x60,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x80,0x40,0x30,0x3F,0x60,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x0C,0x18,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x06,0x02,0x02,0x02,
0x02,0x03,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,
0x03,0x06,0x18,0x30,0x40,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x01,0x01,0x01,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,
0x00,0x00,0x00,0x00,0x03,0x02,0x04,0x08,0x18,0x30,0x40,0xC0,0x80,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x20,0x10,0x08,0x04,0x06,0x03,
0x01,0x00,0x00,0x00,0x00,0x01,0x03,0x04,0x18,0x30,0xC0,0x80,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x80,0xC0,0x60,0x30,0x18,0x08,0x04,0x02,0x07,0x0D,0x18,0x30,0x40,0x80,
0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0x60,0x30,0x18,0x0E,0x03,0x07,0x0C,
0x18,0x30,0x20,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x06,0x0C,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x01,0x02,0x06,0x04,0x04,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x02,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x01,0x03,0x06,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"未命名文件",0*/
};

//
///**********************************************
//// IIC Write Command   写指令
//**********************************************/
//void Write_IIC_Command(unsigned char IIC_Command)
//{
//   Wire.beginTransmission(byte(OLED_12864_Address));  //开始向地址写入
//   Wire.write(byte(0x00));      //write command
//   Wire.write(byte(IIC_Command)); 
//   Wire.endTransmission();            //停止写入
//}
///**********************************************
//// IIC Write Data    写数据
//**********************************************/
//void Write_IIC_Data(unsigned char IIC_Data)
//{
//   Wire.beginTransmission(byte(OLED_12864_Address));  //开始向地址写入
//   Wire.write(byte(0x40));      //write data
//   Wire.write(byte(IIC_Data)); 
//   Wire.endTransmission();            //停止写入
//}
///********************************************
//// fill_Picture     全屏显示
//********************************************/
//void fill_picture(unsigned char fill_Data)
//{
//  unsigned char m,n;
//  for(m=0;m<8;m++)
//  {
//    Write_IIC_Command(0xb0+m);  //page0-page1
//    Write_IIC_Command(0x00);    //low column start address
//    Write_IIC_Command(0x10);    //high column start address
//    for(n=0;n<128;n++)
//      {
//        Write_IIC_Data(fill_Data);
//      }
//  }
//}
///******************************************
//// picture用来显示一个图片
//******************************************/
//void Picture()
//{
//  unsigned char x,y;
//  unsigned int i=0;
//  for(y=0;y<8;y++)
//    {
//      Write_IIC_Command(0xb0+y);
//      Write_IIC_Command(0x00);
//      Write_IIC_Command(0x10);
//      for(x=0;x<128;x++)
//        {
//          Write_IIC_Data(bmp[i++]);
//        }
//    }
//}
///********************************************
////清屏
//********************************************/
//void oled_clear(void)//清屏
//{
//    fill_picture(0x00);
//}
//
// /********************************
//  * @brief     设置光标位置
//  * @param     x,光标x位置
//  *            y，光标y位置
//  *********************************/
//void OLED_xy(unsigned char x, unsigned char y) //设置起始点坐标
//{ 
//    Write_IIC_Command(0xb0+y);
//    Write_IIC_Command(((x&0xf0)>>4)|0x10);
//    Write_IIC_Command((x&0x0f)|0x01);
//}
//
//
///************************************
// * oled 初始化 
// *************************************/
//void oled_init()   //OLED 初始化
//{
//  Write_IIC_Command(0xAE);   //display off
//  Write_IIC_Command(0x20);  //Set Memory Addressing Mode  
//  Write_IIC_Command(0x10);  //00,Horizontal Addressing Mode;01,Vertical Addressing Mode;10,Page Addressing Mode (RESET);11,Invalid
//  Write_IIC_Command(0xb0);  //Set Page Start Address for Page Addressing Mode,0-7
//  Write_IIC_Command(0xc8);  //Set COM Output Scan Direction
//  Write_IIC_Command(0x00);//---set low column address
//  Write_IIC_Command(0x10);//---set high column address
//  Write_IIC_Command(0x40);//--set start line address
//  Write_IIC_Command(0x81);//--set contrast control register
//  Write_IIC_Command(0x7f);
//  Write_IIC_Command(0xa1);//--set segment re-map 0 to 127
//  Write_IIC_Command(0xa6);//--set normal display
//  Write_IIC_Command(0xa8);//--set multiplex ratio(1 to 64)
//  Write_IIC_Command(0x3F);//
//  Write_IIC_Command(0xa4);//0xa4,Output follows RAM content;0xa5,Output ignores RAM content
//  Write_IIC_Command(0xd3);//-set display offset
//  Write_IIC_Command(0x00);//-not offset
//  Write_IIC_Command(0xd5);//--set display clock divide ratio/oscillator frequency
//  Write_IIC_Command(0xf0);//--set divide ratio
//  Write_IIC_Command(0xd9);//--set pre-charge period
//  Write_IIC_Command(0x22); //
//  Write_IIC_Command(0xda);//--set com pins hardware configuration
//  Write_IIC_Command(0x12);
//  Write_IIC_Command(0xdb);//--set vcomh
//  Write_IIC_Command(0x20);//0x20,0.77xVcc
//  Write_IIC_Command(0x8d);//--set DC-DC enable
//  Write_IIC_Command(0x14);//
//  Write_IIC_Command(0xaf);//--turn on oled panel 
//}
//


void setup()
{
  Wire.begin();   
  oled_init();
  oled_clear();
  delay(5);
}

void loop()
{
   OLED_xy(0,0);
   Picture();//显示一张图片
   delay(5);
   while(1);
   
}

